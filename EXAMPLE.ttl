@prefix brick: <https://brickschema.org/schema/Brick#> .
@prefix odtrc: <https://matinabtahi.github.io/operational_digital_twinning/thermal-model#> .
@prefix ex: <https://example.org/rcmodel#> .
@prefix qudt: <http://qudt.org/schema/qudt/> .
@prefix unit: <http://qudt.org/vocab/unit/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# === Zone Definition ===
ex:Zone1 a brick:HVAC_Zone .

# === Sensors and Control Points ===
ex:OutdoorTemp a brick:Outdoor_Air_Temperature_Sensor ;
    qudt:hasQuantityKind qudt:Temperature .

ex:IndoorTemp a brick:Zone_Air_Temperature_Sensor ;
    brick:isPointOf ex:Zone1 ;
    qudt:hasQuantityKind qudt:Temperature .

ex:HeatInput a brick:Heating_Command ;
    brick:isPointOf ex:Zone1 ;
    qudt:hasQuantityKind qudt:Energy .

# === RC Model Instance (1R1C) ===
ex:Zone1_RCModel a odtrc:RCModel ;
    rdfs:label "1R1C RC Model of Zone1" ;
    odtrc:modelsZone ex:Zone1 ;
    odtrc:hasAirNode ex:Zone1_AirNode ;
    odtrc:hasEnvelopeNode ex:Zone1_EnvelopeNode ;
    odtrc:hasInput ex:OutdoorTemp , ex:HeatInput ;
    odtrc:hasState ex:IndoorTemp ;
    odtrc:hasEquation """
        C * dT_i/dt = (T_o - T_i)/R + Q
        where:
          T_i = Indoor air temperature
          T_o = Outdoor air temperature
          Q   = Heat input
          R, C = Model parameters
    """ .

# === Air Node ===
ex:Zone1_AirNode a odtrc:AirNode ;
    rdfs:label "Air Node of Zone1" ;
    odtrc:hasTemperature ex:IndoorTemp ;
    odtrc:hasCapacitance [
        a odtrc:CValue ;
        qudt:numericValue "15000"^^xsd:decimal ;
        qudt:unit unit:J-PER-K
    ] .

# === Envelope Node ===
ex:Zone1_EnvelopeNode a odtrc:EnvelopeNode ;
    rdfs:label "Envelope Node of Zone1" ;
    odtrc:hasConnectedTemperature ex:OutdoorTemp ;
    odtrc:hasResistance [
        a odtrc:RValue ;
        qudt:numericValue "0.0075"^^xsd:decimal ;
        qudt:unit unit:K-PER-W
    ] ;
    odtrc:hasSolarAperture [
        qudt:numericValue "4.5"^^xsd:decimal ;
        qudt:unit unit:M2
    ] .
